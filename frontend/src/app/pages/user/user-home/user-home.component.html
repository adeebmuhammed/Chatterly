<app-user-header></app-user-header>

<!-- Search Bar Wrapper -->
<div class="top-search-bar">
  <app-search
    [searchResults]="results"
    (search)="onSearch($event)"
    (userSelected)="onUserSelected($event)">
  </app-search>
</div>

<div class="chat-container">

  <!-- Left: Chat List -->
  <div class="left-panel">
    <app-chat-list 
      [chats]="chats" 
      (selectChatEmitter)="onChatSelected($event)">
    </app-chat-list>
  </div>

  <!-- Right: Chat Window -->
  <div class="right-panel">
    <ng-container *ngIf="activeChat; else noChat">
      <app-chat-window 
        [messages]="messages"
        [activeChat]="activeChat"
        (sendMessageEmitter)="onSendMessage($event)">
      </app-chat-window>
    </ng-container>

    <ng-template #noChat>
      <div class="no-chat-selected">
        Select a chat to start messaging
      </div>
    </ng-template>
  </div>
</div>
