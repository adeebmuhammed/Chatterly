<app-user-header></app-user-header>

<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="main-content">
  <div class="sign-in">User Sign Up</div>

  <div class="form-container">

    <!-- Email Field -->
    <div class="field-group">
      <div class="email-field">
        <input
          type="email"
          formControlName="email"
          placeholder="Email"
          class="email"
        />
      </div>
      @if (loginForm.get('email')?.touched || loginForm.get('email')?.dirty) {
      @if (loginForm.get('email')?.errors?.['required']) {
      <div class="error">Email is required.</div>
      } @if (loginForm.get('email')?.errors?.['email']) {
      <div class="error">Enter a valid email address.</div>
      } }
    </div>

    <!-- Password Field -->
    <div class="field-group">
      <div class="password-field">
        <input
          type="password"
          formControlName="password"
          placeholder="Password"
          class="password"
        />
      </div>
      @if (loginForm.get('password')?.touched ||
      loginForm.get('password')?.dirty) { @if
      (loginForm.get('password')?.errors?.['required']) {
      <div class="error">Password is required.</div>
      } @if (loginForm.get('password')?.errors?.['minlength']) {
      <div class="error">Minimum 8 characters required.</div>
      } @if (loginForm.get('password')?.errors?.['pattern']) {
      <div class="error">
        Must include uppercase, lowercase, number & special character.
      </div>
      } }
    </div>

    
    <!-- Submit Button -->
    <div class="submit-button">
      <button
        type="submit"
        class="sign-in-text"
        [disabled]="loginForm.invalid"
      >
        Sign Up
      </button>
      @if (errorMessage) {
      <div class="error">{{ errorMessage }}</div>
      }
    </div>
  </div>

  <div class="login-link">
    Already have an account? <a routerLink="/signin">Log In</a>
  </div>
</form>
